<!DOCTYPE html>
<html>
<head> 
    <title>Blind Ranking</title>
      <a href="index.html">Smash or Pass</a>
  <a href="kmk.html">Play Kiss Marry Kill</a>
  <a href="goc.html">Play Girl or Car</a>
  <a href="blind.html">Play Blind Ranking</a>
  <a href="wyw.html">Play King of the Hill</a>
    <a href="chaos.html">Infinity War</a>
    <a href="fb.html">Football Lineup</a>
    <a href="draft.html">Build Your Roster</a>
    <style>
body {
    background: #111;
    color: #fff;
    font-family: sans-serif;
    text-align: center;
    margin: 0;
    padding: 20px;
}

/* Links */
a {
    color: #0af;
    text-decoration: none;
    margin: 0 10px;
    font-weight: bold;
}
a:hover {
    text-decoration: underline;
}

/* Current item */
#currentImg {
    max-width: 320px;
    max-height: 320px;
    display: block;
    margin: 20px auto;
    border-radius: 12px;
    background: #000;
    object-fit: contain;
}

h1, h2, h3 {
    margin: 10px 0;
}

/* Grid */
.grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 16px;
    margin: 40px auto;
    width: 90%;
    max-width: 1000px;
}

/* Slots (cards) */
.slot {
    background: #1a1a1a;
    border: 2px solid #444;
    border-radius: 12px;
    padding: 15px;
    height: 120px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    cursor: pointer;
    transition: transform 0.2s, border-color 0.2s;
    font-size: 16px;
}

.slot:hover {
    transform: scale(1.05);
    border-color: #0af;
}

/* Filled slot */
.slot.filled {
    background: #0f2f1f;
    border-color: #3cff9a;
    cursor: default;
    transform: none;
}

/* Slot images */
.slot img {
    max-height: 55px;
    margin-top: 6px;
    border-radius: 6px;
    object-fit: contain;
    background: #000;
}

/* Buttons */
button {
    padding: 14px 26px;
    margin: 12px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    border-radius: 10px;
    border: 2px solid #0af;
    background: #1a1a1a;
    color: #fff;
    transition: transform 0.2s, background 0.2s;
}

button:hover {
    background: #0af;
    color: #000;
    transform: scale(1.05);
}

/* Hidden utility */
.hidden {
    display: none;
}
</style>


</head>
<body>

<h1>Blind Ranking</h1>

<!-- Gender selection screen -->
<div id="genderSelect">
    <h2>Choose a Category</h2>
    <button onclick="startGame('Male')">Men</button>
    <button onclick="startGame('Female')">Women</button>
</div>

<!-- Game screen -->
<div id="game" class="hidden">
    <h3 id="currentName">Loading...</h3>
    <img id="currentImg" src="" alt="" />

    <div class="grid" id="slots">
        <div class="slot" data-rank="1">1</div>
        <div class="slot" data-rank="2">2</div>
        <div class="slot" data-rank="3">3</div>
        <div class="slot" data-rank="4">4</div>
        <div class="slot" data-rank="5">5</div>
        <div class="slot" data-rank="6">6</div>
        <div class="slot" data-rank="7">7</div>
        <div class="slot" data-rank="8">8</div>
        <div class="slot" data-rank="9">9</div>
        <div class="slot" data-rank="10">10</div>
    </div>
</div>

<script>
let items = [];
let index = 0;
let gender = null;

// Called when user clicks "Men" or "Women"
function startGame(selectedGender) {
    gender = selectedGender;

    document.getElementById("genderSelect").classList.add("hidden");
    document.getElementById("game").classList.remove("hidden");

    loadItems();
}

// Load items from JSON based on chosen gender
async function loadItems() {
    const response = await fetch("people.json");
    const data = await response.json();

    let list = [];

    // Convert chosen gender section into array
    for (const [name, img] of Object.entries(data[gender])) {
        list.push({ name, img });
    }

    // Shuffle and pick 10
    items = list.sort(() => Math.random() - 0.5).slice(0, 10);

    showNext();
}

// Show next item to rank
function showNext() {
    if (index >= items.length) {
        document.getElementById("currentName").textContent = "Ranking Complete!";
        document.getElementById("currentImg").style.display = "none";
        return;
    }

    const item = items[index];
    document.getElementById("currentName").textContent = item.name;
    document.getElementById("currentImg").src = item.img;
    document.getElementById("currentImg").style.display = "block";
}

// Slot click handler
document.querySelectorAll(".slot").forEach(slot => {
    slot.addEventListener("click", () => {
        if (slot.classList.contains("filled")) return;
        if (index >= items.length) return;

        const item = items[index];

        slot.classList.add("filled");
        slot.innerHTML = `
            <strong>${slot.dataset.rank}. ${item.name}</strong>
            <img src="${item.img}" style="max-height:60px; border-radius:6px;" />
        `;

        index++;
        showNext();
    });
});
</script>

</body>
</html>
