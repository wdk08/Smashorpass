<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Smash or Pass</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="stylesheet" href="default.css">
  <style>
    .card.center{
      margin: 30px auto;
      display: block;
    }
    .smash{
      background:#1a1a1a;
      color:#3cff9a;
      border:2px solid #3cff9a;
      box-shadow:0 0 15px rgba(60,255,154,.4);
    }
    .pass{
      background:#1a1a1a;
      color:#ff5c5c;
      border:2px solid #ff5c5c;
      box-shadow:0 0 15px rgba(255,92,92,.4);
    }
    .buttons button{
      font-size:1.4rem;
      padding:14px 28px;
      margin:0 20px;
      border-radius:12px;
      cursor:pointer;
      font-weight:bold;
      transition:.2s;
    }
    .buttons button:hover{
      transform:scale(1.08);
    }
  </style>
</head>

<body>
<div id="helpWrapper">
  <button id="helpBtn">?</button>
  <div id="helpTooltip">
    <strong>How to Play</strong><br><br>
    • Each round, you will a person<br>
    • Click the button smash or pass
  </div>
</div>
<h1>Smash or Pass</h1>

<a href="index.html">Smash or Pass</a>
<a href="kmk.html">Kiss Marry Kill</a>
<a href="goc.html">Girl or Car</a>
<a href="blind.html">Blind Ranking</a>
<a href="wyw.html">King of the Hill</a>
<a href="chaos.html">Infinity War</a>
<a href="fb.html">Football Lineup</a>
<a href="draft.html">Roster</a>

<br><br>

<div class="mode-toggle">
  <button id="femaleBtn">♀ Female</button>
  <button id="maleBtn">♂ Male</button>
</div>

<div class="card big-card center" id="smashCard">
  <img id="celeb-img" src="" alt="" draggable="false">
  <p id="celeb-name">Loading...</p>
</div>



<div class="buttons">
  <button class="smash" onclick="vote('smash')">Smash</button>
  <button class="pass" onclick="vote('pass')">Pass</button>
</div>

<script src="default.js"></script>
<script>
  const celebImg = document.getElementById("celeb-img");
const celebName = document.getElementById("celeb-name");
const smashCard = document.getElementById("smashCard");

let currentData = {};
let celebNames = [];
let index = 0;

function startGame(){
  const people = getPeopleByGender();

  celebNames = shuffle([...Object.keys(people)]);
  currentData = people;
  index = 0;

  updateGenderButtons();
  showCeleb();
}

function showCeleb(){
  if(index >= celebNames.length){
    smashCard.innerHTML = "<h2>You're done</h2>";
    document.querySelector(".buttons").style.display="none";
    return;
  }

  const name = celebNames[index];
  const img = currentData[name];

  celebName.textContent = name;
  celebImg.src = img || "";
}

function vote(choice){
  console.log(`${celebNames[index]}: ${choice}`);
  index++;
  showCeleb();
}

function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
  return arr;
}

loadPeopleData(startGame);
</script>

</body>
</html>
